{% extends "base.html" %}
{% block title %}Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡{% endblock %}

{% block content %}

<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-sky-700">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>

    {% if "customers.add_customer" in user_permissions %}
        <a href="{% url 'customers_app:add' %}"
           class="bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700">
            â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„
        </a>
    {% endif %}
</div>

<div class="bg-white shadow rounded-xl p-6">
    <table class="min-w-full">
        <thead>
            <tr class="border-b">
                <th class="py-3">Ø§Ù„Ø§Ø³Ù…</th>
                <th class="py-3">Ø§Ù„Ù‡Ø§ØªÙ</th>
                <th class="py-3">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</th>
                <th class="py-3">Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</th>
            </tr>
        </thead>

        <tbody>
            {% for customer in customers %}
            <tr class="border-b">

                <td class="py-3">{{ customer.name }}</td>
                <td class="py-3">{{ customer.phone }}</td>
                <td class="py-3">{{ customer.email }}</td>

                <td class="py-3 space-x-2">

                    {% if "customers.view_customer" in user_permissions %}
                        <a href="{% url 'customers_app:view_customer' customer.id %}"
                           class="text-sky-700 font-bold">ğŸ‘ Ø¹Ø±Ø¶</a>
                    {% endif %}

                    {% if "customers.edit_customer" in user_permissions %}
                        <a href="{% url 'customers_app:edit' customer.id %}"
                           class="text-amber-600 font-bold">âœ ØªØ¹Ø¯ÙŠÙ„</a>
                    {% endif %}

                    {% if "customers.delete_customer" in user_permissions %}
                        <a href="{% url 'customers_app:delete' customer.id %}"
                           class="text-red-600 font-bold"
                           onclick="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø¹Ù…ÙŠÙ„ØŸ');">
                            ğŸ—‘ Ø­Ø°Ù
                        </a>
                    {% endif %}

                </td>

            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
